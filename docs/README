Instruções:

1) O script requer o pacote cifs-utils (instalar com o comando "sudo yum install cifs-utils")
2) Colocar os arquivos git_deploy.sh e rollback.sh no diretório /usr/local/sbin/
3) Copiar o arquivo constantes.txt para o diretório /opt/git_deploy/
3) Os scripts devem possuir permissão de execução (executar "chmod +x <nomedoarquivo.sh>")
4) Gerar uma chave pública a ser armazenada no Git para o usuário que realizará os deploys
(a definir), conforme segue:

- executar como root : "ssh-keygen -t rsa -C <nomeusuario@anatel.gov.br>"
- para ver a chave gerada, executar, no diretório HOME do usuário root: "cat .ssh/id_rsa.pub"
- Copiar a chave e inserir no GIT. Caminho: "http://git.anatel.gov.br/profile",
"Edit Profile Settings", "SSH Keys", "Add SSH Key".

Execução:

1) sudo git_deploy.sh <sistema> <hash> <chamado> (modo)

2) sudo rollback.sh <sistema>

Logs:

São gravados 3 logs:

- hist_deploy.txt (em /opt/git_deploy/)
- modificacoes.txt (em /opt/git_deploy/chamados/<sistema>/<numchamado.anochamado>)
- hist_deploy_sistema.txt (além do diretório anterior, em /opt/git_deploy/chamados/<sistema>/)



